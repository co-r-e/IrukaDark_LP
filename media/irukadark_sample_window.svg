<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 900" style="background: transparent;">
  <defs>
    <!-- Background gradients -->
    <linearGradient id="editorBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1e1e2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#181825;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="titleBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2a2a3e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#24243e;stop-opacity:1" />
    </linearGradient>
    
    <!-- Glow effect for popup -->
    <filter id="popupGlow">
      <feGaussianBlur stdDeviation="5" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Shadow -->
    <filter id="shadow">
      <feGaussianBlur in="SourceAlpha" stdDeviation="5"/>
      <feOffset dx="0" dy="5" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Favicon gradient -->
    <linearGradient id="faviconGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#89b4fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#cba6f7;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Main editor window -->
  <g filter="url(#shadow)">
    <!-- Window background -->
    <rect x="60" y="60" width="1100" height="740" rx="20" fill="url(#editorBg)" stroke="#313244" stroke-width="2"/>
    
    <!-- Title bar -->
    <rect x="60" y="60" width="1100" height="58" rx="20" fill="url(#titleBg)"/>
    <rect x="60" y="104" width="1100" height="1.5" fill="#313244"/>
    
    <!-- Window controls -->
    <circle cx="92" cy="89" r="8.5" fill="#ff5f57"/>
    <circle cx="120" cy="89" r="8.5" fill="#febc2e"/>
    <circle cx="148" cy="89" r="8.5" fill="#28c840"/>
    
    <!-- Title text -->
    <text x="610" y="95" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="#cdd6f4" text-anchor="middle" font-weight="500">app/api/route.ts â€” Next.js</text>
    
    <!-- Tab bar -->
    <rect x="60" y="118" width="1100" height="48" fill="#11111b"/>
    
    <!-- Active tab -->
    <rect x="70" y="125" width="190" height="38" rx="10" fill="#1e1e2e"/>
    <text x="95" y="150" font-family="'SF Mono', Monaco, monospace" font-size="14" fill="#cdd6f4" font-weight="500">ğŸ“„ route.ts</text>
    
    <!-- Inactive tabs -->
    <text x="280" y="150" font-family="'SF Mono', Monaco, monospace" font-size="14" fill="#6c7086">ğŸ“„ layout.tsx</text>
    <text x="460" y="150" font-family="'SF Mono', Monaco, monospace" font-size="14" fill="#6c7086">ğŸ“„ page.tsx</text>
    
    <!-- Line numbers area -->
    <rect x="60" y="166" width="72" height="634" fill="#11111b"/>
    <line x1="132" y1="166" x2="132" y2="800" stroke="#313244" stroke-width="1.5"/>
    
    <!-- Line numbers -->
    <text x="112" y="210" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">1</text>
    <text x="112" y="240" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">2</text>
    <text x="112" y="270" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">3</text>
    <text x="112" y="300" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">4</text>
    <text x="112" y="330" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">5</text>
    <text x="112" y="360" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">6</text>
    <text x="112" y="390" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">7</text>
    <text x="112" y="420" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">8</text>
    <text x="112" y="450" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">9</text>
    <text x="112" y="480" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">10</text>
    <text x="112" y="510" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">11</text>
    <text x="112" y="540" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">12</text>
    <text x="112" y="570" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">13</text>
    <text x="112" y="600" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">14</text>
    <text x="112" y="630" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">15</text>
    <text x="112" y="660" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">16</text>
    <text x="112" y="690" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#45475a" text-anchor="end">17</text>
    
    <!-- Code content -->
    <!-- Line 1: import { NextRequest, NextResponse } from 'next/server' -->
    <text x="150" y="210" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cba6f7">import</tspan>
      <tspan fill="#cdd6f4"> { </tspan>
      <tspan fill="#89b4fa">NextRequest</tspan>
      <tspan fill="#cdd6f4">, </tspan>
      <tspan fill="#89b4fa">NextResponse</tspan>
      <tspan fill="#cdd6f4"> } </tspan>
      <tspan fill="#cba6f7">from</tspan>
      <tspan fill="#a6e3a1"> 'next/server'</tspan>
    </text>
    
    <!-- Line 2: import { prisma } from '@/lib/db' -->
    <text x="150" y="240" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cba6f7">import</tspan>
      <tspan fill="#cdd6f4"> { </tspan>
      <tspan fill="#89dceb">prisma</tspan>
      <tspan fill="#cdd6f4"> } </tspan>
      <tspan fill="#cba6f7">from</tspan>
      <tspan fill="#a6e3a1"> '@/lib/db'</tspan>
    </text>
    
    <!-- Line 3: empty -->
    
    <!-- Line 4: interface RequestBody { -->
    <text x="150" y="300" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cba6f7">interface</tspan>
      <tspan fill="#89b4fa"> RequestBody</tspan>
      <tspan fill="#cdd6f4"> {</tspan>
    </text>
    
    <!-- Line 5:   userId: string -->
    <text x="175" y="330" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#89dceb">userId</tspan>
      <tspan fill="#cdd6f4">: </tspan>
      <tspan fill="#f9e2af">string</tspan>
    </text>
    
    <!-- Line 6:   metadata?: Record<string, any> -->
    <text x="175" y="360" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#89dceb">metadata</tspan>
      <tspan fill="#cdd6f4">?: </tspan>
      <tspan fill="#f9e2af">Record</tspan>
      <tspan fill="#cdd6f4">&lt;</tspan>
      <tspan fill="#f9e2af">string</tspan>
      <tspan fill="#cdd6f4">, </tspan>
      <tspan fill="#f9e2af">any</tspan>
      <tspan fill="#cdd6f4">&gt;</tspan>
    </text>
    
    <!-- Line 7: } -->
    <text x="150" y="390" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#cdd6f4">}</text>
    
    <!-- Line 8: empty -->
    
    <!-- Line 9: export async function POST( -->
    <text x="150" y="450" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cba6f7">export</tspan>
      <tspan fill="#cba6f7"> async</tspan>
      <tspan fill="#cba6f7"> function</tspan>
      <tspan fill="#fab387"> POST</tspan>
      <tspan fill="#cdd6f4">(</tspan>
    </text>
    
    <!-- Line 10:   request: NextRequest -->
    <text x="175" y="480" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#89dceb">request</tspan>
      <tspan fill="#cdd6f4">: </tspan>
      <tspan fill="#89b4fa">NextRequest</tspan>
    </text>
    
    <!-- Line 11: ) { -->
    <text x="150" y="510" font-family="'SF Mono', Monaco, monospace" font-size="15" fill="#cdd6f4">) {</text>
    
    <!-- Line 12:   try { -->
    <text x="175" y="540" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cba6f7">try</tspan>
      <tspan fill="#cdd6f4"> {</tspan>
    </text>
    
    <!-- Line 13:     const body = await request.json() (highlighted) -->
    <rect x="175" y="552" width="450" height="24" fill="#89b4fa" opacity="0.2" rx="5"/>
    <text x="200" y="570" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cba6f7">const</tspan>
      <tspan fill="#cdd6f4"> body = </tspan>
      <tspan fill="#cba6f7">await</tspan>
      <tspan fill="#cdd6f4"> request.</tspan>
      <tspan fill="#fab387">json</tspan>
      <tspan fill="#cdd6f4">()</tspan>
    </text>
    
    <!-- Line 14:     const data = body as RequestBody -->
    <text x="200" y="600" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cba6f7">const</tspan>
      <tspan fill="#cdd6f4"> data = body </tspan>
      <tspan fill="#cba6f7">as</tspan>
      <tspan fill="#89b4fa"> RequestBody</tspan>
    </text>
    
    <!-- Line 15: empty (continuation) -->
    
    <!-- Line 16:     return NextResponse.json({ success: true }) -->
    <text x="200" y="660" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cba6f7">return</tspan>
      <tspan fill="#89b4fa"> NextResponse</tspan>
      <tspan fill="#cdd6f4">.</tspan>
      <tspan fill="#fab387">json</tspan>
      <tspan fill="#cdd6f4">({ </tspan>
      <tspan fill="#89dceb">success</tspan>
      <tspan fill="#cdd6f4">: </tspan>
      <tspan fill="#fab387">true</tspan>
      <tspan fill="#cdd6f4"> })</tspan>
    </text>
    
    <!-- Line 17:   } catch (error) { -->
    <text x="175" y="690" font-family="'SF Mono', Monaco, monospace" font-size="15">
      <tspan fill="#cdd6f4">  } </tspan>
      <tspan fill="#cba6f7">catch</tspan>
      <tspan fill="#cdd6f4"> (</tspan>
      <tspan fill="#89dceb">error</tspan>
      <tspan fill="#cdd6f4">) {</tspan>
    </text>
    
    <!-- Cursor -->
    <rect x="760" y="555" width="2.5" height="19" fill="#cdd6f4" opacity="0.9">
      <animate attributeName="opacity" values="0.9;0;0.9" dur="1s" repeatCount="indefinite"/>
    </rect>
    
    <!-- Status bar -->
    <rect x="60" y="778" width="1100" height="22" fill="#11111b"/>
    <line x1="60" y1="778" x2="1160" y2="778" stroke="#313244" stroke-width="1.5"/>
    <text x="80" y="793" font-family="'SF Mono', Monaco, monospace" font-size="12" fill="#6c7086">UTF-8</text>
    <text x="155" y="793" font-family="'SF Mono', Monaco, monospace" font-size="12" fill="#6c7086">TypeScript JSX</text>
    <text x="1130" y="793" font-family="'SF Mono', Monaco, monospace" font-size="12" fill="#6c7086" text-anchor="end">Ln 13, Col 42</text>
  </g>

  <!-- IrukaDark popup -->
  <g filter="url(#popupGlow)">
    <!-- Popup window -->
    <rect x="680" y="380" width="500" height="380" rx="24" fill="#11111b" stroke="#89b4fa" stroke-width="3" opacity="0.98"/>
    
    <!-- Popup header -->
    <rect x="680" y="380" width="500" height="68" rx="24" fill="#1e1e2e"/>
    <rect x="680" y="434" width="500" height="2" fill="#313244"/>
    
    <!-- IrukaDark icon -->
    <circle cx="715" cy="414" r="15" fill="#89b4fa"/>
    <path d="M 715 406 Q 709 414 715 422 Q 721 414 715 406" fill="#11111b"/>
    
    <!-- Title -->
    <text x="745" y="422" font-family="system-ui, -apple-system, sans-serif" font-size="19" fill="#cdd6f4" font-weight="600">IrukaDark</text>
    
    <!-- Close button -->
    <circle cx="1150" cy="414" r="12" fill="#313244" opacity="0.6"/>
    <line x1="1144" y1="408" x2="1156" y2="420" stroke="#6c7086" stroke-width="2.5" stroke-linecap="round"/>
    <line x1="1156" y1="408" x2="1144" y2="420" stroke="#6c7086" stroke-width="2.5" stroke-linecap="round"/>
    
    <!-- Content area -->
    <g>
      <!-- Question -->
      <text x="715" y="478" font-family="system-ui, -apple-system, sans-serif" font-size="17" fill="#f5c2e7" font-weight="600">ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ä½•ã‚’ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ</text>
      
      <!-- Answer -->
      <text x="715" y="517" font-family="system-ui, -apple-system, sans-serif" font-size="15" fill="#bac2de" line-height="1.6">
        <tspan x="715" dy="0">ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€Next.js 13+ã®App Routerå‘ã‘</tspan>
        <tspan x="715" dy="26">POST APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚</tspan>
      </text>
      
      <text x="715" y="582" font-family="system-ui, -apple-system, sans-serif" font-size="15" fill="#bac2de" font-weight="500">ä¸»ãªå‡¦ç†å†…å®¹ï¼š</text>
      
      <!-- Bullet points -->
      <text x="730" y="618" font-family="system-ui, -apple-system, sans-serif" font-size="14.5" fill="#a6adc8">
        <tspan x="730" dy="0">â€¢ ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã‚’JSONå½¢å¼ã§å–å¾—</tspan>
        <tspan x="730" dy="24">â€¢ TypeScriptã®å‹ã§æ¤œè¨¼</tspan>
        <tspan x="730" dy="24">â€¢ æˆåŠŸæ™‚ã¯JSONãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”å´</tspan>
        <tspan x="730" dy="24">â€¢ ã‚¨ãƒ©ãƒ¼æ™‚ã¯é©åˆ‡ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§è¿”å´</tspan>
      </text>
      
      <!-- Note -->
      <text x="715" y="727" font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="#6c7086" font-style="italic">
        Prismaçµ±åˆã‚‚æº–å‚™ã•ã‚Œã¦ãŠã‚Šã€DBæ“ä½œãŒå¯èƒ½ã§ã™ã€‚
      </text>
    </g>
    
    <!-- Accent line -->
    <rect x="715" y="748" width="430" height="3" rx="1.5" fill="#89b4fa" opacity="0.4"/>
  </g>

  <!-- Favicon below popup -->
  <g transform="translate(900, 780)">
    <!-- Favicon background -->
    <rect x="0" y="0" width="60" height="60" rx="14" fill="url(#faviconGrad)" filter="url(#shadow)"/>
    
    <!-- Dolphin shape (IrukaDark icon) -->
    <g transform="translate(30, 30)">
      <!-- Body -->
      <ellipse cx="0" cy="0" rx="18" ry="12" fill="#ffffff" opacity="0.95"/>
      <!-- Tail -->
      <path d="M -18 -2 Q -24 -8 -22 -12 Q -20 -8 -18 -6 Z" fill="#ffffff" opacity="0.95"/>
      <path d="M -18 2 Q -24 8 -22 12 Q -20 8 -18 6 Z" fill="#ffffff" opacity="0.95"/>
      <!-- Snout -->
      <ellipse cx="16" cy="0" rx="6" ry="4" fill="#ffffff" opacity="0.95"/>
      <!-- Eye -->
      <circle cx="8" cy="-3" r="2.5" fill="#1e1e2e"/>
      <!-- Smile -->
      <path d="M 10 2 Q 14 3 16 2" stroke="#1e1e2e" stroke-width="1.5" fill="none" stroke-linecap="round"/>
    </g>
  </g>
</svg>
